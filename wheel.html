<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–ö–æ–ª–µ—Å–æ —Ñ–æ—Ä—Ç—É–Ω—ã</title>
  <link rel="icon" type="image/png" href="favicon.png?v=2">
  <style>
        @media (max-width: 600px) {
    body {
        font-size: 14px;
    }

    .topbar {
        flex-direction: column;
        gap: 10px;
        padding: 10px;
    }

    .menu {
        flex-wrap: wrap;
        justify-content: center;
        gap: 5px;
    }
    .menu-item {
        flex: 1 0 20%;
        text-align: center;
    }

    .logo {
        font-size: 1rem;
        padding: 6px 12px;
    }

    h1 {
        font-size: 1.2rem;
        margin-top: 1rem;
    }

    #result {
        font-size: 2rem;
        padding: 0 1rem;
        text-align: center;
    }

    .controls {
        max-width: 90%;
        padding: 0 1rem;
    }

    button {
        font-size: 0.95rem;
        padding: 8px 16px;
    }

    input[type="number"] {
        width: 60px;
    }

    textarea {
        font-size: 0.9rem;
    }

    .footer-content {
        flex-direction: column;
        gap: 0.5rem;
    }
    }
    body {
      background: #f2f2f2 url('https://www.transparenttextures.com/patterns/white-wall-3.png');
      font-family: sans-serif;
      color: #333;
      margin: 0;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }

    .topbar {
      background-color: #2a2a2a;
      background-image: repeating-linear-gradient(45deg, #2a2a2a 0, #2a2a2a 2px, #333 2px, #333 4px);
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 10px 0;
      color: white;
      gap: 40px;
      flex-wrap: wrap;
    }

    .logo {
      background: linear-gradient(to bottom, #f9d835, #f39c12);
      color: black;
      font-weight: bold;
      padding: 10px 20px;
      font-size: 1.2rem;
      border-radius: 5px;
      box-shadow: 0 5px 10px rgba(0,0,0,0.2);
    }

    .menu {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      font-size: 0.9rem;
      align-items: center;
    }

    .menu-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      color: #ddd;
      cursor: pointer;
    }

    .footer {
      background-color: #2a2a2a;
      background-image: repeating-linear-gradient(45deg, #2a2a2a 0, #2a2a2a 2px, #333 2px, #333 4px);
      color: white;
      text-align: center;
      font-size: 0.9rem;
      margin-top: auto;
      padding: 1rem;
    }

    .footer-content {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 2rem;
      flex-wrap: nowrap;
    }

    .footer a {
      color: #facc15;
      text-decoration: none;
      margin: 0 5px;
    }

    .footer a:hover {
      text-decoration: underline;
    }
    .footer a:hover {
      text-decoration: underline;
    }

    h1 {
      font-size: 2rem;
      margin-bottom: 1rem;
    }

    .container {
      display: flex;
      flex-wrap: wrap;
      background: white;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      padding: 2rem;
      gap: 2rem;
      justify-content: center;
      align-items: center;
      position: relative;
      overflow: visible;
    }

    textarea {
      width: 200px;
      height: 150px;
      font-size: 1rem;
      padding: 0.5rem;
      resize: vertical;
      margin-top: 0.5rem;
    }

    .presets-block {
        margin-top: 1rem;
    }

    .presets-label {
        margin-bottom: 0.3rem;
        font-size: 0.95rem;
    }

    .presets {
        display: flex;
        flex-wrap: wrap;
        gap: 0.7rem 1.2rem;
        max-width: 200px;
    }

    .presets a {
        color: red;
        text-decoration: underline dotted;
        cursor: pointer;
        font-size: 0.95rem;
    }

    .wheel-wrapper {
      transform: scale(1.3);
      margin-left: -50px;
      margin-right: -50px;
    }
    .wheel-wrapper {
        transform: scale(1.3);
        margin-left: 9rem;
    }

    .wheel {
        transform: rotate(90deg); /* –ò–∑–Ω–∞—á–∞–ª—å–Ω—ã–π –ø–æ–≤–æ—Ä–æ—Ç –¥–ª—è –∫–æ–ª–µ—Å–∞ */
        transition: transform 4s cubic-bezier(0.25, 1, 0.5, 1);
        background: repeating-conic-gradient(#cccccc 0deg 10deg, #e0e0e0 10deg 20deg);
        position: relative;
        width: 300px;
        height: 300px;
        border-radius: 50%;
        border: 10px solid white;
        overflow: hidden;
        box-shadow: 0 0 12px rgba(0, 0, 0, 0.3);
    }

    .wheel-label {
        position: absolute;
        top: 50%;
        left: 50%;
        transform-origin: center center;
        color: white;
        font-weight: bold;
        font-size: 0.9rem;
        text-shadow: 0 0 3px black;
        pointer-events: none;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        max-width: calc(100% / 2 - 20px);
    }

    .wheel-sector {
        position: absolute;
        top: 50%;
        left: 50%;
        width: 100%;
        height: 100%;
        transform-origin: center center;
    }

    .sector-label {
        display: flex;
        justify-content: center;
        align-items: flex-start;
        width: 100%;
        height: 100%;
        padding-top: 10px;
        color: white;
        font-size: 1rem;
        font-weight: bold;
        text-shadow: 0 0 3px black;
    }

    .wheel::before {
      content: "";
      position: absolute;
      top: 50%;
      left: 50%;
      width: 20px;
      height: 20px;
      background: white;
      border: 2px solid black;
      border-radius: 50%;
      transform: translate(-50%, -50%);
      z-index: 10;
    }

    .btn {
      margin-top: 2.5rem;
      background: linear-gradient(to bottom, #ffec64 0%, #ffab23 100%);
      border: none;
      font-size: 1.5rem;
      font-style: italic;
      font-family: "Verdana", sans-serif;
      color: black;
      padding: 12px 30px;
      border-radius: 8px;
      cursor: pointer;
      font-weight: bold;
      box-shadow:
        inset 0 1px 0 #fff,
        0 0 0 1px #d18700,
        0 4px 0 #c17400,
        0 5px 6px rgba(0, 0, 0, 0.2);
      transition: all 0.1s ease-in-out;
    }

    .btn:active {
      transform: translateY(2px);
      box-shadow:
        inset 0 1px 0 #fff,
        0 0 0 1px #d18700,
        0 2px 0 #c17400,
        0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .variant-list {
        list-style: none;
        padding: 0;
        margin: 0.5rem 0;
        width: 200px;
        border: 1px solid #ccc;
        border-radius: 5px;
        overflow-y: auto;
        max-height: 200px;
        font-family: monospace;
        font-size: 1rem;
    }

    .variant-list li {
        padding: 0.4rem 0.6rem;
        border-bottom: 1px solid #eee;
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 0.4rem 0.6rem;
        border-bottom: 1px solid #eee;
        font-family: monospace;
        white-space: nowrap;
    }

    .variant-list li:nth-child(odd) {
        background: #fff;
    }

    .variant-list li:nth-child(even) {
        background: #f5f5f5;
    }

    .wheel-container {
        position: relative;
        width: 300px;
        height: 300px;
        transform: scale(1.3);
        margin-left: 8rem;
    }

    .pointer {
        position: absolute;
        top: 53%;
        right: -20px;
        transform: translateY(-50%);
        width: 0;
        height: 0;
        border-top: 8px solid transparent;
        border-bottom: 8px solid transparent;
        border-right: 14px solid white; /* –¶–≤–µ—Ç —Å—Ç—Ä–µ–ª–∫–∏ */
        z-index: 20;
        left: calc(100% - 3px);
    }

    .main-content {
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 2rem;
    }

    .input-controls {
        display: flex;
        gap: 0.5rem;
        margin-bottom: 0.5rem;
    }
    .input-controls button {
        padding: 0.5rem 1rem;
        font-size: 1rem;
        margin-top: 0;
        box-shadow: none;
        background: linear-gradient(to bottom, #dfffe0 0%, #aaffaa 100%);
        border: 1px solid #5cb85c;
        color: #333;
        font-style: normal;
        font-weight: normal;
    }
    .input-controls button:active {
        transform: translateY(1px);
        box-shadow: none;
    }

  </style>
</head>
<body>
  <div class="topbar">
    <div class="menu">
      <a href="index.html" class="logo">BandStuff</a>
      <a class="menu-item" href="wheel.html">üéØ<span>–ö–æ–ª–µ—Å–æ —Ñ–æ—Ä—Ç—É–Ω—ã</span></a>
      <a class="menu-item" href="index.html">123<br><span>–ß–∏—Å–ª–∞</span></a>
      <a class="menu-item" href="passwords.html">***<span>–ü–∞—Ä–æ–ª–∏</span></a>
      <a class="menu-item" href="predictions.html">üîÆ<span>–ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è</span></a>
      <a class="menu-item" href="questions.html">‚ùì‚ùì<span>–í–æ–ø—Ä–æ—Å—ã</span></a>
      <a class="menu-item" href="tickets.html">üéü<span>–ë–∏–ª–µ—Ç—ã</span></a>
      <a class="menu-item" href="facts.html">‚ö†<span>–§–∞–∫—Ç—ã</span></a>
      <a class="menu-item" href="wisdom.html">üìñ<span>–ú—É–¥—Ä–æ—Å—Ç–∏</span></a>
    </div>
  </div>

  <div class="main-content">
    <h1>–ö–æ–ª–µ—Å–æ —Ñ–æ—Ä—Ç—É–Ω—ã</h1>
    <h2 id="winner" style="margin-bottom: 1rem; font-weight: normal;"></h2>

    <div class="container">
      <div>
        <div style="display: flex; align-items: center; gap: 0.5rem;">
            <strong>–í–∞—Ä–∏–∞–Ω—Ç—ã:</strong>
            <button onclick="clearVariants()" title="–û—á–∏—Å—Ç–∏—Ç—å" style="margin-left: 1rem; background: none; border: none; font-size: 1.2rem; cursor: pointer; color: #888; box-shadow: none;">üóëÔ∏è</button>
        </div>
        <textarea id="variantsInput" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã, –∫–∞–∂–¥—ã–π —Å –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏"></textarea>
        <div class="input-controls">
            <button onclick="addVariants()">–î–æ–±–∞–≤–∏—Ç—å</button>
        </div>

        <ul id="optionsList" class="variant-list">
          </ul>

        <div class="presets-block">
          <div class="presets-label"><strong>–ü—Ä–µ—Å–µ—Ç—ã:</strong></div>
          <div class="presets">
            <a onclick="setPreset('yesno')">–î–∞/–ù–µ—Ç</a>
            <a onclick="setPreset('1to10')">–û—Ç 1 –¥–æ 10</a>
            <a onclick="setPreset('alphabet')">–ê–ª—Ñ–∞–≤–∏—Ç</a>
            <a onclick="setPreset('colors')">–¶–≤–µ—Ç–∞</a>
            <a onclick="setPreset('zodiac')">–ó–Ω–∞–∫–∏ –∑–æ–¥–∏–∞–∫–∞</a>
            <a onclick="setPreset('cuisines')">–ö—É—Ö–Ω–∏ –º–∏—Ä–∞</a>
            <a onclick="setPreset('genres')">–ñ–∞–Ω—Ä—ã –∫–∏–Ω–æ</a>
          </div>
        </div>
      </div>

      <div class="wheel-container">
        <div class="pointer"></div>
        <div class="wheel" id="wheel"></div>
      </div>
    </div>

    <button class="btn" id="spinBtn">–ö—Ä—É—Ç–∏—Ç—å</button>
  </div>

  <div class="footer">
    <div class="footer-content">
      <div><strong>–ü–æ–¥–µ–ª–∏—Ç—å—Å—è:</strong> 
        <a href="https://vk.com/share.php" target="_blank">VK</a> ¬∑  
        <a href="https://t.me/share/url?url=https://your-site.com" target="_blank">Telegram</a> ¬∑ 
        <a href="https://api.whatsapp.com/send?text=https://your-site.com" target="_blank">WhatsApp</a>
      </div>
      <div>|</div>
      <div><a href="donate.html" style="color: red; font-weight: bold; text-decoration: none;">–ü–æ–¥–¥–µ—Ä–∂–∞—Ç—å –ø—Ä–æ–µ–∫—Ç ‚ù§Ô∏è</a> | 
        <a href="/" style="color: #facc15; font-weight: bold; text-decoration: none;">BandStuff</a>
      </div>
    </div>
  </div>

  <script>
    let currentOptions = []; // –ú–∞—Å—Å–∏–≤ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ç–µ–∫—É—â–∏—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤

    const presets = {
      yesno: ['–î–∞', '–ù–µ—Ç'],
      '1to10': Array.from({ length: 10 }, (_, i) => (i + 1).toString()),
      alphabet: '–ê –ë –í –ì –î –ï –ñ –ó –ò –ö –õ –ú –ù –û –ü –† –° –¢ –£ –§ –• –¶ –ß –® –© –≠ –Æ –Ø'.split(' '),
      colors: ['–ö—Ä–∞—Å–Ω—ã–π', '–°–∏–Ω–∏–π', '–ñ—ë–ª—Ç—ã–π', '–ó–µ–ª—ë–Ω—ã–π', '–§–∏–æ–ª–µ—Ç–æ–≤—ã–π', '–û—Ä–∞–Ω–∂–µ–≤—ã–π', '–ß—ë—Ä–Ω—ã–π', '–ë–µ–ª—ã–π'],
      zodiac: ['–û–≤–µ–Ω', '–¢–µ–ª–µ—Ü', '–ë–ª–∏–∑–Ω–µ—Ü—ã', '–†–∞–∫', '–õ–µ–≤', '–î–µ–≤–∞', '–í–µ—Å—ã', '–°–∫–æ—Ä–ø–∏–æ–Ω', '–°—Ç—Ä–µ–ª–µ—Ü', '–ö–æ–∑–µ—Ä–æ–≥', '–í–æ–¥–æ–ª–µ–π', '–†—ã–±—ã'],
      cuisines: ['–ò—Ç–∞–ª—å—è–Ω—Å–∫–∞—è', '–Ø–ø–æ–Ω—Å–∫–∞—è', '–§—Ä–∞–Ω—Ü—É–∑—Å–∫–∞—è', '–ò–Ω–¥–∏–π—Å–∫–∞—è', '–†—É—Å—Å–∫–∞—è', '–ú–µ–∫—Å–∏–∫–∞–Ω—Å–∫–∞—è', '–ö–∏—Ç–∞–π—Å–∫–∞—è'],
      genres: ['–ö–æ–º–µ–¥–∏—è', '–î—Ä–∞–º–∞', '–£–∂–∞—Å—ã', '–§–∞–Ω—Ç–∞—Å—Ç–∏–∫–∞', '–ú–µ–ª–æ–¥—Ä–∞–º–∞', '–ë–æ–µ–≤–∏–∫', '–ê–Ω–∏–º–µ']
    };

    document.addEventListener("DOMContentLoaded", () => {
      setPreset('alphabet'); 
    });

    function updateOptionsList() {
      const listElement = document.getElementById('optionsList');
      listElement.innerHTML = ''; 

      currentOptions.forEach((option, index) => {
        const li = document.createElement('li');
        li.textContent = `${index + 1} | ${option}`;
        listElement.appendChild(li);
      });

      updateWheelVisual(currentOptions);
    }

    function addVariants() {
      const textarea = document.getElementById('variantsInput');
      const newVariants = textarea.value.split('\n')
                                      .map(v => v.trim())
                                      .filter(v => v !== '');
      
      newVariants.forEach(variant => {
        if (!currentOptions.includes(variant)) {
          currentOptions.push(variant);
        }
      });
      textarea.value = ''; 
      updateOptionsList();
    }

    function clearVariants() {
      currentOptions = [];
      updateOptionsList();
      document.getElementById("winner").textContent = ''; 
    }

    function setPreset(type) {
      const data = presets[type] || [];
      currentOptions = [...new Set(data)]; 
      updateOptionsList();
    }

    let currentRotationForCss = 0; // –ù–∞–∫–æ–ø–ª–µ–Ω–Ω—ã–π –æ–±—â–∏–π —É–≥–æ–ª –¥–ª—è CSS-—Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏

    function spinWheel() {
      if (currentOptions.length < 2) {
        alert("–î–æ–±–∞–≤—å—Ç–µ —Ö–æ—Ç—è –±—ã 2 –≤–∞—Ä–∏–∞–Ω—Ç–∞, –∏—Å–ø–æ–ª—å–∑—É—è –ø–æ–ª–µ –≤–≤–æ–¥–∞ –∏–ª–∏ –≤—ã–±—Ä–∞–≤ –ø—Ä–µ—Å–µ—Ç.");
        return;
      }

      const segments = currentOptions.length;
      const degPerSegment = 360 / segments;
      const extraSpins = 5; 

      const randomStopAngle = Math.floor(Math.random() * 360); 
      const spinAmount = (extraSpins * 360) + randomStopAngle;

      currentRotationForCss += spinAmount;

      const wheelEl = document.getElementById("wheel");
      wheelEl.style.transition = 'transform 4s cubic-bezier(0.25, 1, 0.5, 1)';
      
      // –ö–æ–ª–µ—Å–æ –≤ CSS —É–∂–µ –ø–æ–≤–µ—Ä–Ω—É—Ç–æ –Ω–∞ 90deg. Pointer —Å–ø—Ä–∞–≤–∞.
      // –ß—Ç–æ–±—ã —Å–µ–∫—Ç–æ—Ä "A" (–∏–Ω–¥–µ–∫—Å 0), –∫–æ—Ç–æ—Ä—ã–π –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –≤–∏–∑—É–∞–ª—å–Ω–æ —Å–≤–µ—Ä—Ö—É (–∏–∑-–∑–∞ rotate(90deg) –Ω–∞ .wheel),
      // –º–æ–≥ –±—ã—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω, –∫–æ–≥–¥–∞ –æ–Ω –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –°–ø—Ä–∞–≤–∞ (–ø–æ–¥ –ø–æ–∏–Ω—Ç–µ—Ä–æ–º).
      // –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –Ω—É–∂–Ω–æ, —á—Ç–æ–±—ã "0-–π" –≥—Ä–∞–¥—É—Å –∫–æ–ª–µ—Å–∞ (–≤–∏–∑—É–∞–ª—å–Ω–æ —Å–≤–µ—Ä—Ö—É) —Å–æ–≤–ø–∞–ª —Å
      // –ø–æ–∑–∏—Ü–∏–µ–π –ø–æ–∏–Ω—Ç–µ—Ä–∞ (–≤–∏–∑—É–∞–ª—å–Ω–æ —Å–ø—Ä–∞–≤–∞).
      // –î–ª—è —ç—Ç–æ–≥–æ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å 90deg –∫ –ø–æ–≤–æ—Ä–æ—Ç—É, —á—Ç–æ–±—ã 0 –∫–æ–ª–µ—Å–∞ (—Å–≤–µ—Ä—Ö—É) –ø—Ä–∏—à–µ–ª –Ω–∞ 0 —Å–ø—Ä–∞–≤–∞ (—É–∫–∞–∑–∞—Ç–µ–ª—å).
      wheelEl.style.transform = `rotate(${currentRotationForCss + 90}deg)`; 

      document.getElementById("winner").textContent = ''; // –û—á–∏—â–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

      const onTransitionEnd = () => {
        // --- –õ–û–ì–ò–ö–ê –û–ü–†–ï–î–ï–õ–ï–ù–ò–Ø –ü–û–ë–ï–î–ò–¢–ï–õ–Ø –ü–û–°–õ–ï –û–°–¢–ê–ù–û–í–ö–ò ---

        // 1. –ü–æ–ª—É—á–∞–µ–º —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–π —É–≥–æ–ª, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –∫–æ–ª–µ—Å–æ –æ—Å—Ç–∞–Ω–æ–≤–∏–ª–æ—Å—å, –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –æ–¥–Ω–æ–≥–æ –æ–±–æ—Ä–æ—Ç–∞ (0-359).
        // currentRotationForCss + 90 - —ç—Ç–æ –æ–±—â–∏–π —É–≥–æ–ª, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–º–µ–Ω–µ–Ω –∫ –∫–æ–ª–µ—Å—É.
        let actualFinalAngleAppliedToWheel = (currentRotationForCss + 90) % 360;
        if (actualFinalAngleAppliedToWheel < 0) {
            actualFinalAngleAppliedToWheel += 360;
        }

        // 2. –¢–µ–ø–µ—Ä—å –Ω—É–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –∫–∞–∫–æ–π —Å–µ–∫—Ç–æ—Ä –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ø–æ–¥ —É–∫–∞–∑–∞—Ç–µ–ª–µ–º.
        // –£–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –°–ü–†–ê–í–ê, —á—Ç–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç 0 –≥—Ä–∞–¥—É—Å–∞–º.
        // –ö–æ–ª–µ—Å–æ –∏–º–µ–µ—Ç 0-–π —Å–µ–∫—Ç–æ—Ä (–ê) –≤–∏–∑—É–∞–ª—å–Ω–æ –°–í–ï–†–•–£ (–∏–∑-–∑–∞ rotate(90deg) –≤ CSS).
        // –¢–æ—á–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø–æ–±–µ–¥–∏—Ç–µ–ª—è: 0 –≥—Ä–∞–¥—É—Å–æ–≤ (—Å–ø—Ä–∞–≤–∞).
        //
        // –ù–∞–º –Ω—É–∂–Ω–æ "–ø–æ–≤–µ—Ä–Ω—É—Ç—å" —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–≥–æ —É–≥–ª–∞ –∫–æ–ª–µ—Å–∞ —Ç–∞–∫, —á—Ç–æ–±—ã
        // 0-–π –≥—Ä–∞–¥—É—Å (—Å–ø—Ä–∞–≤–∞) —Å—Ç–∞–ª —Ç–æ—á–∫–æ–π –æ—Ç—Å—á–µ—Ç–∞.
        // –¢–æ –µ—Å—Ç—å, –µ—Å–ª–∏ –∫–æ–ª–µ—Å–æ –ø–æ–≤–µ—Ä–Ω—É—Ç–æ –Ω–∞ `actualFinalAngleAppliedToWheel` –≥—Ä–∞–¥—É—Å–æ–≤,
        // —Ç–æ —Å–µ–∫—Ç–æ—Ä, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–∞ 0 –≥—Ä–∞–¥—É—Å–æ–≤ (—Å–ø—Ä–∞–≤–∞), –±—É–¥–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å:
        // `(360 - actualFinalAngleAppliedToWheel + 0) % 360`
        // –ì–¥–µ `0` - —ç—Ç–æ –ø–æ–∑–∏—Ü–∏—è —É–∫–∞–∑–∞—Ç–µ–ª—è (—Å–ø—Ä–∞–≤–∞).
        // –ï—Å–ª–∏ –±—ã —É–∫–∞–∑–∞—Ç–µ–ª—å –±—ã–ª —Å–≤–µ—Ä—Ö—É, –±—ã–ª–æ –±—ã `(360 - actualFinalAngleAppliedToWheel + 90) % 360`.

        // –£–≥–æ–ª –ø–æ–¥ —É–∫–∞–∑–∞—Ç–µ–ª–µ–º (0 –≥—Ä–∞–¥—É—Å–æ–≤ - —Å–ø—Ä–∞–≤–∞).
        // –ú—ã —Ö–æ—Ç–∏–º, —á—Ç–æ–±—ã –Ω–∞—à 0-–π —Å–µ–∫—Ç–æ—Ä (–ê), –∫–æ—Ç–æ—Ä—ã–π –≤–∏–∑—É–∞–ª—å–Ω–æ —Å–≤–µ—Ä—Ö—É,
        // –±—ã–ª –æ–ø—Ä–µ–¥–µ–ª–µ–Ω, –∫–æ–≥–¥–∞ –æ–Ω –±—É–¥–µ—Ç —Å–ø—Ä–∞–≤–∞.
        // –ï—Å–ª–∏ –ê —Å–≤–µ—Ä—Ö—É (90deg), –∞ —É–∫–∞–∑–∞—Ç–µ–ª—å —Å–ø—Ä–∞–≤–∞ (0deg).
        // –ù–∞–º –Ω—É–∂–Ω–æ —Å–º–µ—â–µ–Ω–∏–µ –≤ -90deg, —á—Ç–æ–±—ã 0deg (–≤–∏–∑—É–∞–ª—å–Ω–æ —Å–≤–µ—Ä—Ö—É) –ø—Ä–∏—à–µ–ª –Ω–∞ 0deg (—Å–ø—Ä–∞–≤–∞).
        let angleAtPointer = (360 - actualFinalAngleAppliedToWheel + 90) % 360;
        if (angleAtPointer < 0) {
            angleAtPointer += 360;
        }
        
        const winnerIndex = Math.floor(angleAtPointer / degPerSegment);
        
        const winnerText = currentOptions[winnerIndex]; 
        document.getElementById("winner").textContent = `–ü–æ–±–µ–∂–¥–∞–µ—Ç: ${winnerText}`;
        wheelEl.removeEventListener('transitionend', onTransitionEnd);
      };

      wheelEl.addEventListener('transitionend', onTransitionEnd);
    }

    function updateWheelVisual(items) {
      const wheel = document.getElementById('wheel');
      wheel.innerHTML = ''; 

      if (!items || items.length === 0) {
        wheel.style.background = 'repeating-conic-gradient(#cccccc 0deg 10deg, #e0e0e0 10deg 20deg)';
        return;
      }

      const total = items.length;
      const colors = [
        '#FF6347', '#FFD700', '#ADFF2F', '#00FF7F', '#40E0D0',
        '#6495ED', '#9370DB', '#FF69B4', '#DC143C', '#BA55D3',
        '#FFA07A', '#F0E68C', '#87CEEB', '#32CD32', '#C71585',
        '#FF4500', '#DA70D6', '#B0C4DE', '#FFE4B5', '#8A2BE2'
      ]; 

      let gradient = 'conic-gradient(';
      for (let i = 0; i < total; i++) {
        const color = colors[i % colors.length];
        const start = (360 / total) * i;
        const end = (360 / total) * (i + 1);
        gradient += `${color} ${start}deg ${end}deg${i < total - 1 ? ', ' : ''}`;
      }
      gradient += ')';
      wheel.style.background = gradient;

      for (let i = 0; i < total; i++) {
        // –£–≥–æ–ª –¥–ª—è —Ü–µ–Ω—Ç—Ä–∞ —Å–µ–∫—Ç–æ—Ä–∞ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ 0 –≥—Ä–∞–¥—É—Å–æ–≤ (—Å–ø—Ä–∞–≤–∞)
        const angle = (360 / total) * i + (360 / total) / 2;
        const label = document.createElement('div');
        label.className = 'wheel-label';
        label.textContent = items[i]; 

        // –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è –º–µ—Ç–æ–∫:
        // translate(-50%, -50%) - —Ü–µ–Ω—Ç—Ä–∏—Ä—É–µ—Ç –º–µ—Ç–∫—É.
        // rotate(${angle}deg) - –ø–æ–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç –º–µ—Ç–∫—É –∫ —Ü–µ–Ω—Ç—Ä—É —Å–≤–æ–µ–≥–æ —Å–µ–∫—Ç–æ—Ä–∞ (–æ—Ç—Å—á–µ—Ç –æ—Ç 0 —Å–ø—Ä–∞–≤–∞).
        // translateY(-120px) - —Å–¥–≤–∏–≥–∞–µ—Ç –º–µ—Ç–∫—É –æ—Ç —Ü–µ–Ω—Ç—Ä–∞ –∫–æ–ª–µ—Å–∞.
        // rotate(-${angle}deg) - –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç —Ç–µ–∫—Å—Ç –º–µ—Ç–∫–∏ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ.
        // rotate(-90deg) - –∫–æ–º–ø–µ–Ω—Å–∏—Ä—É–µ—Ç –Ω–∞—á–∞–ª—å–Ω—ã–π –ø–æ–≤–æ—Ä–æ—Ç –∫–æ–ª–µ—Å–∞ –∏–∑ CSS (—Ç.–∫. –∫–æ–ª–µ—Å–æ –ø–æ–≤–µ—Ä–Ω—É—Ç–æ –Ω–∞ 90deg,
        //                 –∞ –º—ã —Ö–æ—Ç–∏–º, —á—Ç–æ–±—ã —Ç–µ–∫—Å—Ç –±—ã–ª –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–º –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–≥–æ –∫–æ–ª–µ—Å–∞).
        label.style.transform = `
          translate(-50%, -50%) 
          rotate(${angle}deg)
          translateY(-120px) 
          rotate(-${angle}deg) 
          rotate(-90deg) 
        `;
        wheel.appendChild(label);
      }
    }

    document.getElementById("spinBtn").addEventListener("click", spinWheel);
</script>